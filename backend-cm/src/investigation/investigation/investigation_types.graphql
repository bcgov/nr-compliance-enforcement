scalar Point
scalar JSON

type Investigation {
  investigationGuid: String
  description: String
  leadAgency: String
  investigationStatus: InvestigationStatusCode
  openedTimestamp: Date
  caseIdentifier: String
  createdByAppUserGuid: String
  locationGeometry: Point
  locationAddress: String
  locationDescription: String
  name: String
  supervisorGuid: String
  primaryInvestigatorGuid: String
  fileCoordinatorGuid: String
  discoveryDate: Date
  parties: [InvestigationParty]
  contraventions: [Contravention]
  tasks: [Task]
}

input CreateInvestigationInput {
  caseIdentifier: String!
  leadAgency: String!
  description: String
  investigationStatus: String
  locationGeometry: Point
  locationAddress: String
  locationDescription: String
  name: String!
  createdByAppUserGuid: String!
  supervisorGuid: String
  primaryInvestigatorGuid: String
  fileCoordinatorGuid: String
  discoveryDate: Date
}

input UpdateInvestigationInput {
  leadAgency: String
  description: String
  investigationStatus: String
  locationGeometry: Point
  locationAddress: String
  locationDescription: String
  name: String
  supervisorGuid: String
  primaryInvestigatorGuid: String
  fileCoordinatorGuid: String
  discoveryDate: Date
}

input InvestigationFilters {
  search: String
  leadAgency: String
  investigationStatus: String
  startDate: Date
  endDate: Date
  sortBy: String
  sortOrder: String
}

input InvestigationSearchMapParameters {
  bbox: String
  zoom: Int!
  filters: InvestigationFilters
}

type SearchMapResults {
  clusters: JSON
  mappedCount: Int
  unmappedCount: Int
  zoom: Int
  center: [Float]
}

type PageInfo {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  totalCount: Int!
  totalPages: Int!
  currentPage: Int!
  pageSize: Int!
}

type InvestigationResult {
  items: [Investigation!]!
  pageInfo: PageInfo!
}
