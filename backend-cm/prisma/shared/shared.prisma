generator client {
  provider      = "prisma-client-js"
  output        = "../../node_modules/.prisma/shared"
  binaryTargets = ["native", "debian-openssl-1.1.x"]
}

generator prismaClassGenerator {
  provider = "prisma-class-generator"
  output   = "./generated"
  dryRun   = "false"
}

datasource db {
  provider = "postgresql"
  url      = env("SHARED_POSTGRES_URL")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model contact_method {
  contact_method_guid      String                   @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  person_guid              String                   @db.Uuid
  contact_method_type      String                   @db.VarChar(10)
  contact_value            String?                  @db.VarChar(512)
  create_user_id           String                   @db.VarChar(32)
  create_utc_timestamp     DateTime                 @default(now()) @db.Timestamp(6)
  update_user_id           String?                  @db.VarChar(32)
  update_utc_timestamp     DateTime?                @db.Timestamp(6)
  person                   person                   @relation(fields: [person_guid], references: [person_guid], onDelete: Cascade, onUpdate: NoAction, map: "fk_contact_method_person")
  contact_method_type_code contact_method_type_code @relation(fields: [contact_method_type], references: [contact_method_type_code], onDelete: NoAction, onUpdate: NoAction, map: "fk_contact_method_type")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model contact_method_h {
  h_contact_method_guid         String   @id(map: "PK_h_contact_method") @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  target_row_id                 String   @db.Uuid
  operation_type                String   @db.Char(1)
  operation_user_id             String   @default(dbgenerated("CURRENT_USER")) @db.VarChar(32)
  operation_executed_at         DateTime @default(now()) @db.Timestamp(6)
  data_after_executed_operation Json?
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model contact_method_type_code {
  contact_method_type_code String           @id @db.VarChar(16)
  short_description        String           @db.VarChar(64)
  long_description         String?          @db.VarChar(256)
  display_order            Int?
  active_ind               Boolean          @default(true)
  create_user_id           String           @db.VarChar(32)
  create_utc_timestamp     DateTime         @default(now()) @db.Timestamp(6)
  update_user_id           String?          @db.VarChar(32)
  update_utc_timestamp     DateTime?        @db.Timestamp(6)
  contact_method           contact_method[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model person {
  person_guid          String           @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  first_name           String           @db.VarChar(128)
  middle_name          String?          @db.VarChar(128)
  middle_name_2        String?          @db.VarChar(128)
  last_name            String           @db.VarChar(128)
  create_user_id       String           @db.VarChar(32)
  create_utc_timestamp DateTime         @default(now()) @db.Timestamp(6)
  update_user_id       String?          @db.VarChar(32)
  update_utc_timestamp DateTime?        @db.Timestamp(6)
  party_guid           String?          @unique(map: "UQ_person_party_guid") @db.Uuid
  contact_method       contact_method[]
  party                party?           @relation(fields: [party_guid], references: [party_guid], onDelete: NoAction, onUpdate: NoAction, map: "FK_person_party")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model person_h {
  h_person_guid                 String   @id(map: "PK_h_person") @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  target_row_id                 String   @db.Uuid
  operation_type                String   @db.Char(1)
  operation_user_id             String   @default(dbgenerated("CURRENT_USER")) @db.VarChar(32)
  operation_executed_at         DateTime @default(now()) @db.Timestamp(6)
  data_after_executed_operation Json?
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model park {
  park_guid            String           @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  external_id          String           @unique(map: "UK_park__external_id") @db.VarChar(32)
  name                 String           @db.VarChar(256)
  legal_name           String?          @db.VarChar(256)
  create_user_id       String           @db.VarChar(32)
  create_utc_timestamp DateTime         @default(now()) @db.Timestamp(6)
  update_user_id       String?          @db.VarChar(32)
  update_utc_timestamp DateTime?        @db.Timestamp(6)
  park_area_xref       park_area_xref[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model park_area {
  park_area_guid       String           @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  name                 String           @unique(map: "uk_park_area__name") @db.VarChar(256)
  region_name          String?          @db.VarChar(256)
  create_user_id       String           @db.VarChar(32)
  create_utc_timestamp DateTime         @default(now()) @db.Timestamp(6)
  update_user_id       String?          @db.VarChar(32)
  update_utc_timestamp DateTime?        @db.Timestamp(6)
  park_area_xref       park_area_xref[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model park_area_mapping {
  park_area_mapping_guid String    @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  park_area_guid         String    @db.Uuid
  external_id            String    @db.VarChar(32)
  create_user_id         String    @db.VarChar(32)
  create_utc_timestamp   DateTime  @default(now()) @db.Timestamp(6)
  update_user_id         String?   @db.VarChar(32)
  update_utc_timestamp   DateTime? @db.Timestamp(6)

  @@unique([park_area_guid, external_id], map: "uk_park_area_mapping__park_area_guid__external_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model park_area_xref {
  park_area_guid_xref  String    @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  park_area_guid       String    @db.Uuid
  park_guid            String    @db.Uuid
  create_user_id       String    @db.VarChar(32)
  create_utc_timestamp DateTime  @default(now()) @db.Timestamp(6)
  update_user_id       String?   @db.VarChar(32)
  update_utc_timestamp DateTime? @db.Timestamp(6)
  park_area            park_area @relation(fields: [park_area_guid], references: [park_area_guid], onDelete: NoAction, onUpdate: NoAction, map: "fk_park_area_xref_park")
  park                 park      @relation(fields: [park_guid], references: [park_guid], onDelete: NoAction, onUpdate: NoAction, map: "fk_park_area_xref_park_area")

  @@unique([park_area_guid, park_guid], map: "uk_park_area_xref__park_guid__park_area_guid")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model agency_code {
  agency_code          String      @id @db.VarChar(10)
  short_description    String      @db.VarChar(64)
  long_description     String?     @db.VarChar(256)
  display_order        Int?
  active_ind           Boolean     @default(true)
  external_agency_ind  Boolean     @default(false)
  create_user_id       String      @db.VarChar(32)
  create_utc_timestamp DateTime    @default(now()) @db.Timestamp(6)
  update_user_id       String?     @db.VarChar(32)
  update_utc_timestamp DateTime?   @db.Timestamp(6)
  case_file            case_file[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model case_activity {
  case_activity_guid      String                  @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  case_file_guid          String                  @db.Uuid
  activity_type           String                  @db.VarChar(10)
  activity_identifier_ref String                  @db.VarChar(50)
  effective_utc_timestamp DateTime                @default(now()) @db.Timestamp(6)
  expiry_utc_timestamp    DateTime?               @db.Timestamp(6)
  create_user_id          String                  @db.VarChar(32)
  create_utc_timestamp    DateTime                @default(now()) @db.Timestamp(6)
  update_user_id          String?                 @db.VarChar(32)
  update_utc_timestamp    DateTime?               @db.Timestamp(6)
  case_activity_type_code case_activity_type_code @relation(fields: [activity_type], references: [case_activity_type_code], onDelete: NoAction, onUpdate: NoAction, map: "fk_case_activity__case_activity_type_code")
  case_file               case_file               @relation(fields: [case_file_guid], references: [case_file_guid], onDelete: NoAction, onUpdate: NoAction, map: "fk_case_activity__case_file")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model case_activity_type_code {
  case_activity_type_code String          @id @db.VarChar(10)
  short_description       String          @db.VarChar(64)
  long_description        String?         @db.VarChar(256)
  display_order           Int?
  active_ind              Boolean         @default(true)
  create_user_id          String          @db.VarChar(32)
  create_utc_timestamp    DateTime        @default(now()) @db.Timestamp(6)
  update_user_id          String?         @db.VarChar(32)
  update_utc_timestamp    DateTime?       @db.Timestamp(6)
  case_activity           case_activity[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model case_file {
  case_file_guid       String           @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  lead_agency          String           @db.VarChar(10)
  case_status          String           @db.VarChar(10)
  opened_utc_timestamp DateTime         @default(now()) @db.Timestamp(6)
  create_user_id       String           @db.VarChar(32)
  create_utc_timestamp DateTime         @default(now()) @db.Timestamp(6)
  update_user_id       String?          @db.VarChar(32)
  update_utc_timestamp DateTime?        @db.Timestamp(6)
  description          String?
  case_activity        case_activity[]
  agency_code          agency_code      @relation(fields: [lead_agency], references: [agency_code], onDelete: NoAction, onUpdate: NoAction, map: "fk_case_file__agency_code")
  case_status_code     case_status_code @relation(fields: [case_status], references: [case_status_code], onDelete: NoAction, onUpdate: NoAction, map: "fk_case_file__case_status_code")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model case_status_code {
  case_status_code     String      @id @db.VarChar(10)
  short_description    String      @db.VarChar(64)
  long_description     String?     @db.VarChar(256)
  display_order        Int?
  active_ind           Boolean     @default(true)
  create_user_id       String      @db.VarChar(32)
  create_utc_timestamp DateTime    @default(now()) @db.Timestamp(6)
  update_user_id       String?     @db.VarChar(32)
  update_utc_timestamp DateTime?   @db.Timestamp(6)
  case_file            case_file[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model case_activity_h {
  h_case_activity_guid          String   @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  target_row_id                 String   @db.Uuid
  operation_type                String   @db.Char(1)
  operation_user_id             String   @default(dbgenerated("CURRENT_USER")) @db.VarChar(32)
  operation_executed_at         DateTime @default(now()) @db.Timestamp(6)
  data_after_executed_operation Json?
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model case_file_h {
  h_case_file_guid              String   @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  target_row_id                 String   @db.Uuid
  operation_type                String   @db.Char(1)
  operation_user_id             String   @default(dbgenerated("CURRENT_USER")) @db.VarChar(32)
  operation_executed_at         DateTime @default(now()) @db.Timestamp(6)
  data_after_executed_operation Json?
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model business {
  business_guid        String    @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  name                 String    @db.VarChar(128)
  create_user_id       String    @db.VarChar(32)
  create_utc_timestamp DateTime  @default(now()) @db.Timestamp(6)
  update_user_id       String?   @db.VarChar(32)
  update_utc_timestamp DateTime? @db.Timestamp(6)
  party_guid           String?   @unique(map: "UQ_business_party_guid") @db.Uuid
  party                party?    @relation(fields: [party_guid], references: [party_guid], onDelete: NoAction, onUpdate: NoAction, map: "FK_business_party")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model business_h {
  h_business_guid               String   @id(map: "PK_h_business") @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  target_row_id                 String   @db.Uuid
  operation_type                String   @db.Char(1)
  operation_user_id             String   @default(dbgenerated("CURRENT_USER")) @db.VarChar(32)
  operation_executed_at         DateTime @default(now()) @db.Timestamp(6)
  data_after_executed_operation Json?
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model party {
  party_guid           String           @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  party_type           String?          @db.VarChar(16)
  create_user_id       String           @db.VarChar(32)
  create_utc_timestamp DateTime         @default(now()) @db.Timestamp(6)
  update_user_id       String?          @db.VarChar(32)
  update_utc_timestamp DateTime?        @db.Timestamp(6)
  business             business?
  party_type_code      party_type_code? @relation(fields: [party_type], references: [party_type_code], onDelete: NoAction, onUpdate: NoAction, map: "fk_party__party_type")
  person               person?
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model party_h {
  h_party_guid                  String   @id(map: "PK_h_party") @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  target_row_id                 String   @db.Uuid
  operation_type                String   @db.Char(1)
  operation_user_id             String   @default(dbgenerated("CURRENT_USER")) @db.VarChar(32)
  operation_executed_at         DateTime @default(now()) @db.Timestamp(6)
  data_after_executed_operation Json?
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model party_type_code {
  party_type_code      String    @id @db.VarChar(16)
  short_description    String    @db.VarChar(64)
  long_description     String?   @db.VarChar(256)
  display_order        Int?
  active_ind           Boolean   @default(true)
  create_user_id       String    @db.VarChar(32)
  create_utc_timestamp DateTime  @default(now()) @db.Timestamp(6)
  update_user_id       String?   @db.VarChar(32)
  update_utc_timestamp DateTime? @db.Timestamp(6)
  party                party[]
}

model flyway_schema_history {
  installed_rank Int      @id(map: "flyway_schema_history_pk")
  version        String?  @db.VarChar(50)
  description    String   @db.VarChar(200)
  type           String   @db.VarChar(20)
  script         String   @db.VarChar(1000)
  checksum       Int?
  installed_by   String   @db.VarChar(100)
  installed_on   DateTime @default(now()) @db.Timestamp(6)
  execution_time Int
  success        Boolean

  @@index([success], map: "flyway_schema_history_s_idx")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model event {
  event_guid                                                                   String                  @id @default(dbgenerated("public.uuid_generate_v4()")) @db.Uuid
  event_verb_type_code                                                         String                  @db.VarChar(16)
  published_utc_timestamp                                                      DateTime                @default(now()) @db.Timestamp(6)
  source_id                                                                    String?                 @db.VarChar(64)
  source_entity_type_code                                                      String?                 @db.VarChar(16)
  actor_id                                                                     String                  @db.VarChar(64)
  actor_entity_type_code                                                       String                  @db.VarChar(16)
  target_id                                                                    String                  @db.VarChar(64)
  target_entity_type_code                                                      String                  @db.VarChar(16)
  content                                                                      Json?
  create_user_id                                                               String                  @db.VarChar(32)
  create_utc_timestamp                                                         DateTime                @default(now()) @db.Timestamp(6)
  update_user_id                                                               String?                 @db.VarChar(32)
  update_utc_timestamp                                                         DateTime?               @db.Timestamp(6)
  event_entity_type_code_event_actor_entity_type_codeToevent_entity_type_code  event_entity_type_code  @relation("event_actor_entity_type_codeToevent_entity_type_code", fields: [actor_entity_type_code], references: [event_entity_type_code], onDelete: NoAction, onUpdate: NoAction, map: "fk_event_actor_entity_type_code")
  event_verb_type_code_event_event_verb_type_codeToevent_verb_type_code        event_verb_type_code    @relation("event_event_verb_type_codeToevent_verb_type_code", fields: [event_verb_type_code], references: [event_verb_type_code], onDelete: NoAction, onUpdate: NoAction, map: "fk_event_verb_type_code")
  event_entity_type_code_event_source_entity_type_codeToevent_entity_type_code event_entity_type_code? @relation("event_source_entity_type_codeToevent_entity_type_code", fields: [source_entity_type_code], references: [event_entity_type_code], onDelete: NoAction, onUpdate: NoAction, map: "fk_event_source_entity_type_code")
  event_entity_type_code_event_target_entity_type_codeToevent_entity_type_code event_entity_type_code  @relation("event_target_entity_type_codeToevent_entity_type_code", fields: [target_entity_type_code], references: [event_entity_type_code], onDelete: NoAction, onUpdate: NoAction, map: "fk_event_target_entity_type_code")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model event_entity_type_code {
  event_entity_type_code                                      String    @unique @db.VarChar(16)
  short_description                                           String    @db.VarChar(64)
  long_description                                            String?   @db.VarChar(256)
  display_order                                               Int?
  active_ind                                                  Boolean   @default(true)
  create_user_id                                              String    @db.VarChar(32)
  create_utc_timestamp                                        DateTime  @default(now()) @db.Timestamp(6)
  update_user_id                                              String?   @db.VarChar(32)
  update_utc_timestamp                                        DateTime? @db.Timestamp(6)
  event_event_actor_entity_type_codeToevent_entity_type_code  event[]   @relation("event_actor_entity_type_codeToevent_entity_type_code")
  event_event_source_entity_type_codeToevent_entity_type_code event[]   @relation("event_source_entity_type_codeToevent_entity_type_code")
  event_event_target_entity_type_codeToevent_entity_type_code event[]   @relation("event_target_entity_type_codeToevent_entity_type_code")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model event_verb_type_code {
  event_verb_type_code                                   String    @unique @db.VarChar(16)
  short_description                                      String    @db.VarChar(64)
  long_description                                       String?   @db.VarChar(256)
  display_order                                          Int?
  active_ind                                             Boolean   @default(true)
  create_user_id                                         String    @db.VarChar(32)
  create_utc_timestamp                                   DateTime  @default(now()) @db.Timestamp(6)
  update_user_id                                         String?   @db.VarChar(32)
  update_utc_timestamp                                   DateTime? @db.Timestamp(6)
  event_event_event_verb_type_codeToevent_verb_type_code event[]   @relation("event_event_verb_type_codeToevent_verb_type_code")
}
